<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="/static/css/connexion.css">
    <title>Cham Nation</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="/static/css/global.css">
    <link rel="stylesheet" type="text/css" href="/static/css/accueil.css">
    <link rel="stylesheet" type="text/css" href="/static/css/ajouterthread.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <header>
        <img id="logo" src="/static/images/logo.png">
        <div id="wrap">
            <div id="search">
                <input type="text" id="searchTerm" placeholder="What are you looking for?" value="">
                <button type="submit" id="searchButton">
                    <i id="fa fa-search"></i>
                </button>
            </div>
        </div>
        <img id="profile-picture" src="/static/images/profile-picture.png"> 
    </header>

    <div id="global">
        <div class="global-item" id="global-left">
            <div class="item-left item">
                <a href="/">
                    <img id="home" src="/static/images/home.png">
                    <p>Accueil</p>
                </a>
            </div>
            <div class="item-left" id="item">
                <img id="home" src="/static/images/thread.png">
                <p>Mes threads</p>
            </div>
            <div class="item-left" id="item">
                <img id="home" src="/static/images/follow.png">
                <p>Suivis</p>
            </div>
            <div id="cat">
                <p>Catégories</p>   
            </div>
        </div>
        <div class="global-item" id="global-center">
            <div class="inside-center" id="add-thread">
                <button id="button-input-add-thread" type="button">+</button>
                <input id="input-add-thread" type="text" placeholder="Ajoutez le nom d'un thread...." value="">
            </div>
            {{range .}}
            <div class="inside-center a-thread">
                <h3>{{.Title}}</h3>
                <p class="zeub">
                    {{.Content}}
                <button class="btn-like" id="green"><i class="fas fa-thumbs-up" aria-hidden="true"></i><span class="like__number">99</span></button>
                <button class="btn-dislike" id="red"><i class="fas fa-thumbs-down" aria-hidden="true"></i><span class="like__number">100</span></button>
                </p>
            </div>
            {{end}}
                
        </div>
        <div class="global-item" id="global-right">
            <img id="profile-picture" src="/static/images/profile-picture.png">
            <div class="txt">
                <h2>Amaury</h2>
                <div  class="bannerSubtitle">
                </div>
                <h2 id="Participant"> Participant</h2>
                <ul id="tableau">
                </ul>
            </div>
        </div>
    </div>

    <div id="pop-up"></div>
    <form id="connexion" class="box" action="" method="POST">
        <h1>Se connecter</h1>
        <input type="text" name="connexionUser" placeholder="Nom d'utilisateur" required="required"/>
        <input type="password" name="connexionPassword" placeholder="Mot de passe" required="required"/>
        <div class="option_div">
            <div class="check_box">
                <input type="checkbox">
                <span>Se rappeler de moi</span>
            </div>
            <div class="forget">
                <a href="">Mot de passe oublié?</a>
            </div>
        </div>
        <div class="input_box button">
            <input type="submit" value="Connexion" name="connect">
        </div>
        <div class="sign_up">
            <p>Pas de compte ?</p><span id="sInscrire">S'inscrire</span>
        </div>
    </form>

    <form id="inscription" class="box" action="" method="POST">
        <h1>Inscription</h1>
        <input type="text" name="inscriptionPseudo" placeholder="Pseudo" required="required"/>
        <input type="email" id="email" name="inscriptionEmail" placeholder="Email" required="required"/>
        <input type="email" id="email" name="inscriptionEmailConfirm" placeholder="Confirmer l'email" required="required"/>
        <input type="password" name="inscriptionPassword" placeholder="Mot de passe" required="required"/>
        <input type="password" name="inscriptionPasswordConfirm" placeholder="Confirmer Mot de passe" required="required"/>
        <div class="option_div">
            <div class="check_box">
                <input type="checkbox">
                <span>Se rappeler de moi</span>
            </div>
        </div>
            <div class="input_box button">
                <input type="submit" value="Créer un compte" name="submit">
            </div>
    </form>
    
    <form id="thread-background" class="boxthread" action="" method="POST">
        <div id ="ajouter-thread">
            <input value="" type="text" id="namethread" name="threadTitle"></input>
        </div>
        <textarea name="créa_thread" id="créa_thread" cols="70" rows="30" placeholder="écrivez votre thread ici"></textarea>
        <input type="submit" value="Submit" name="" class="sub-thread">
    </form>

    <script>
    document.querySelector('#button-input-add-thread').addEventListener('click', ()=>{
        var x = document.getElementById("input-add-thread").value
        if ( x !== "") {
            document.querySelector("#namethread").value = x
            document.querySelector('#thread-background').classList.add("popUp")
            document.querySelector('#pop-up').classList.add("connexion-background")

            document.querySelector('#pop-up').addEventListener('click', ()=>{
            document.querySelector('#thread-background').classList.remove("popUp")
            document.querySelector('#pop-up').classList.remove("connexion-background")
            })
        }
    })

        var i=0;
        function read(){
            if (!i){
                document.getElementById("more").style.display ="inline";
                document.getElementById("first-text").style.display ="none";
                document.getElementById("read").innerHTML ="Voir moins";
                i=1;
            } else {
                document.getElementById("more").style.display ="none";
                document.getElementById("first-text").style.display ="inline";
                document.getElementById("read").innerHTML ="Voir plus";
                i=0;
            }
        }
        var btn1 = document.querySelector('#green');
        var btn2 = document.querySelector('#red');
        

        btn1.addEventListener('click', function() {
        
            if (btn2.classList.contains('red')) {
            btn2.classList.remove('red');
            } 
        this.classList.toggle('green');
        
        });

        btn2.addEventListener('click', function() {
        
            if (btn1.classList.contains('green')) {
            btn1.classList.remove('green');
            } 
        this.classList.toggle('red');
        
        });

        document.querySelector('#profile-picture').addEventListener('click', ()=>{

            if (document.cookie.includes("auth")) {
                window.location.replace('http://localhost:8080/profil')
            } else {

                document.querySelector('#pop-up').classList.add("connexion-background")
                document.querySelector('#connexion').classList.add("popUp")

                document.querySelector('#sInscrire').addEventListener('click', ()=>{
                    document.querySelector('#connexion').classList.remove("popUp")
                    document.querySelector('#inscription').classList.add("popUp")
                })

                document.querySelector('#pop-up').addEventListener('click', ()=>{
                    document.querySelector('#pop-up').classList.remove("connexion-background")
                    document.querySelector('#connexion').classList.remove("popUp")
                    document.querySelector('#inscription').classList.remove("popUp")
                })
            }
        }) 
    </script>
</body>
</html>